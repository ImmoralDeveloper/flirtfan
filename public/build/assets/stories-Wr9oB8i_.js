class c{constructor(e,s={}){this.container=document.querySelector(e),this.wrapper=this.container.querySelector(".carousel-wrapper"),this.btnPrev=this.container.querySelector('[data-dir="prev"]'),this.btnNext=this.container.querySelector('[data-dir="next"]'),this.scrollAmount=s.scrollAmount||100,this.dragSpeed=s.dragSpeed||2,this.touchSpeed=s.touchSpeed||1,this._bindEvents(),this._enableDrag(),this._updateButtons()}_bindEvents(){this.btnPrev&&this.btnPrev.addEventListener("click",()=>{this.wrapper.scrollBy({left:-this.scrollAmount,behavior:"smooth"})}),this.btnNext&&this.btnNext.addEventListener("click",()=>{this.wrapper.scrollBy({left:this.scrollAmount,behavior:"smooth"})}),this.wrapper.addEventListener("scroll",()=>this._updateButtons()),window.addEventListener("resize",()=>this._updateButtons())}_updateButtons(){const e=this.wrapper.scrollLeft,s=this.wrapper.scrollWidth-this.wrapper.clientWidth;this.btnPrev&&(this.btnPrev.disabled=e<=1,this.btnPrev.classList.toggle("disabled",e<=1)),this.btnNext&&(this.btnNext.disabled=e>=s-1,this.btnNext.classList.toggle("disabled",e>=s-1))}_enableDrag(){let e=!1,s,i;const a=t=>{e=!0,this.wrapper.classList.add("dragging"),s=t-this.wrapper.offsetLeft,i=this.wrapper.scrollLeft},n=(t,o)=>{if(!e)return;const l=(t-s)*o,d=i-l,h=this.wrapper.scrollWidth-this.wrapper.clientWidth;this.wrapper.scrollLeft=Math.max(0,Math.min(d,h))},r=()=>{e=!1,this.wrapper.classList.remove("dragging")};this.wrapper.addEventListener("mousedown",t=>a(t.pageX)),this.wrapper.addEventListener("mouseleave",r),this.wrapper.addEventListener("mouseup",r),this.wrapper.addEventListener("mousemove",t=>n(t.pageX,this.dragSpeed)),this.wrapper.addEventListener("touchstart",t=>a(t.touches[0].pageX)),this.wrapper.addEventListener("touchend",r),this.wrapper.addEventListener("touchmove",t=>n(t.touches[0].pageX,this.touchSpeed))}}document.addEventListener("DOMContentLoaded",function(){new c("#stories-carousel",{scrollAmount:500})});
